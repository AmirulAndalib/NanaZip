<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\Mile.Project.Windows\Mile.Project.Platform.x86.props" />
  <Import Project="..\Mile.Project.Windows\Mile.Project.Platform.x64.props" />
  <Import Project="..\Mile.Project.Windows\Mile.Project.Platform.ARM64.props" />
  <PropertyGroup Label="Globals">
    <ProjectGuid>{7262BA1E-732D-4814-972F-698F0B4330A1}</ProjectGuid>
    <RootNamespace>NanaZip.Core.Sfx.Shared</RootNamespace>
    <MileProjectType>StaticLibrary</MileProjectType>
    <MileProjectEnableVCLTLSupport>true</MileProjectEnableVCLTLSupport>
  </PropertyGroup>
  <Import Project="..\Mile.Project.Windows\Mile.Project.Cpp.Default.props" />
  <Import Project="..\Mile.Project.Windows\Mile.Project.Cpp.props" />
  <Import Condition="('$(Platform)'=='Win32') Or ('$(Platform)'=='x64')" Project="$(VCTargetsPath)\BuildCustomizations\masm.props" />
  <PropertyGroup>
    <IncludePath>$(MSBuildThisFileDirectory)xxHash\;$(IncludePath)</IncludePath>
    <IncludePath>$(MSBuildThisFileDirectory)Zstandard\;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <ItemDefinitionGroup>
    <ClCompile>
      <EnableEnhancedInstructionSet Condition="'$(Platform)'=='Win32'">NoExtensions</EnableEnhancedInstructionSet>
      <PreprocessorDefinitions>Z7_EXTRACT_ONLY;Z7_NO_READ_FROM_CODER;Z7_SFX;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <PreprocessorDefinitions Condition="'$(Platform)'=='x64'">Z7_LZMA_DEC_OPT;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
    <MASM>
      <UseSafeExceptionHandlers Condition="'$(Platform)'=='Win32'">true</UseSafeExceptionHandlers>
    </MASM>
  </ItemDefinitionGroup>
  <ItemGroup>
    <None Include="NanaZip.Core.Sfx.Shared.props" />
    <None Include="SevenZip\ASM\x86\7zAsm.asm" />
    <None Include="SevenZip\ASM\x86\AesOpt.asm" />
    <None Include="SevenZip\ASM\x86\LzmaDecOpt.asm" />
    <None Include="SevenZip\ASM\x86\Sha256Opt.asm" />
    <None Include="SevenZip\C\AesOpt.c" />
    <None Include="SevenZip\C\Sha256Opt.c" />
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="Extensions\ZSCodecs\ZstdDecoder.cpp" />
    <ClCompile Include="Extensions\ZSCodecs\ZstdRegister.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Archive\Common\MultiStream.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Archive\SplitHandler.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Common\CWrappers.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Common\OutBuffer.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Common\StreamUtils.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\Bcj2Coder.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\Bcj2Register.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\BcjCoder.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\BcjRegister.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\BranchMisc.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\BranchRegister.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\CopyCoder.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\CopyRegister.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\DeltaFilter.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\Lzma2Decoder.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\Lzma2Register.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\LzmaDecoder.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\LzmaRegister.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\PpmdDecoder.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Compress\PpmdRegister.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Crypto\7zAes.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Crypto\7zAesRegister.cpp" />
    <ClCompile Include="SevenZip\CPP\7zip\Crypto\MyAes.cpp" />
    <ClCompile Include="SevenZip\CPP\Common\Sha256Prepare.cpp" />
    <ClCompile Include="SevenZip\C\7zStream.c" />
    <ClCompile Include="SevenZip\C\Aes.c" />
    <ClCompile Include="SevenZip\C\Bcj2.c" />
    <ClCompile Include="SevenZip\C\Bra.c" />
    <ClCompile Include="SevenZip\C\Bra86.c" />
    <ClCompile Include="SevenZip\C\BraIA64.c" />
    <ClCompile Include="SevenZip\C\Delta.c" />
    <ClCompile Include="SevenZip\C\Lzma2Dec.c" />
    <ClCompile Include="SevenZip\C\Lzma2DecMt.c" />
    <ClCompile Include="SevenZip\C\LzmaDec.c" />
    <ClCompile Include="SevenZip\C\MtDec.c" />
    <ClCompile Include="SevenZip\C\Ppmd7.c" />
    <ClCompile Include="SevenZip\C\Ppmd7Dec.c" />
    <ClCompile Include="SevenZip\C\Sha256.c" />
    <ClCompile Include="SevenZip\C\Threads.c" />
    <ClCompile Include="Zstandard\common\debug.c" />
    <ClCompile Include="Zstandard\common\entropy_common.c" />
    <ClCompile Include="Zstandard\common\error_private.c" />
    <ClCompile Include="Zstandard\common\fse_decompress.c" />
    <ClCompile Include="Zstandard\common\pool.c" />
    <ClCompile Include="Zstandard\common\threading.c" />
    <ClCompile Include="Zstandard\common\zstd_common.c" />
    <ClCompile Include="Zstandard\decompress\huf_decompress.c" />
    <ClCompile Include="Zstandard\decompress\zstd_ddict.c" />
    <ClCompile Include="Zstandard\decompress\zstd_decompress.c" />
    <ClCompile Include="Zstandard\decompress\zstd_decompress_block.c" />
    <ClCompile Include="xxHash\xxhash.c" />
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="Extensions\ZSCodecs\ZstdDecoder.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Archive\Common\MultiStream.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Common\CWrappers.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Common\OutBuffer.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Common\StreamUtils.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Compress\Bcj2Coder.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Compress\BcjCoder.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Compress\BranchMisc.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Compress\CopyCoder.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Compress\Lzma2Decoder.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Compress\LzmaDecoder.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Compress\PpmdDecoder.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Compress\StdAfx.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Crypto\7zAes.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Crypto\MyAes.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Crypto\RandGen.h" />
    <ClInclude Include="SevenZip\CPP\7zip\Crypto\StdAfx.h" />
    <ClInclude Include="SevenZip\C\Aes.h" />
    <ClInclude Include="SevenZip\C\Bcj2.h" />
    <ClInclude Include="SevenZip\C\Bra.h" />
    <ClInclude Include="SevenZip\C\Delta.h" />
    <ClInclude Include="SevenZip\C\Lzma2Dec.h" />
    <ClInclude Include="SevenZip\C\Lzma2DecMt.h" />
    <ClInclude Include="SevenZip\C\LzmaDec.h" />
    <ClInclude Include="SevenZip\C\MtDec.h" />
    <ClInclude Include="SevenZip\C\Ppmd.h" />
    <ClInclude Include="SevenZip\C\Ppmd7.h" />
    <ClInclude Include="SevenZip\C\Sha256.h" />
    <ClInclude Include="SevenZip\C\Threads.h" />
    <ClInclude Include="Zstandard\common\allocations.h" />
    <ClInclude Include="Zstandard\common\bits.h" />
    <ClInclude Include="Zstandard\common\bitstream.h" />
    <ClInclude Include="Zstandard\common\compiler.h" />
    <ClInclude Include="Zstandard\common\cpu.h" />
    <ClInclude Include="Zstandard\common\debug.h" />
    <ClInclude Include="Zstandard\common\error_private.h" />
    <ClInclude Include="Zstandard\common\fse.h" />
    <ClInclude Include="Zstandard\common\huf.h" />
    <ClInclude Include="Zstandard\common\mem.h" />
    <ClInclude Include="Zstandard\common\pool.h" />
    <ClInclude Include="Zstandard\common\portability_macros.h" />
    <ClInclude Include="Zstandard\common\threading.h" />
    <ClInclude Include="Zstandard\common\zstd_deps.h" />
    <ClInclude Include="Zstandard\common\zstd_internal.h" />
    <ClInclude Include="Zstandard\common\zstd_trace.h" />
    <ClInclude Include="Zstandard\decompress\zstd_ddict.h" />
    <ClInclude Include="Zstandard\decompress\zstd_decompress_block.h" />
    <ClInclude Include="Zstandard\decompress\zstd_decompress_internal.h" />
    <ClInclude Include="Zstandard\zstd.h" />
    <ClInclude Include="Zstandard\zstd_errors.h" />
    <ClInclude Include="xxHash\xxhash.h" />
  </ItemGroup>
  <Target Name="NanaZipCoreAesHardwareAccelerationBuildAssemblySource" BeforeTargets="_MASM">
    <ItemGroup Condition="('$(Platform)'=='Win32') Or ('$(Platform)'=='x64')">
      <MASM Include="SevenZip\ASM\x86\AesOpt.asm" />
    </ItemGroup>
  </Target>
  <Target Name="NanaZipCoreAesHardwareAccelerationBuildCSource" BeforeTargets="BeforeClCompile">
    <ItemGroup Condition="('$(Platform)'!='Win32') And ('$(Platform)'!='x64')">
      <ClCompile Include="SevenZip\C\AesOpt.c">
        <Optimization Condition="'$(Configuration)'=='Release'">MaxSpeed</Optimization>
      </ClCompile>
    </ItemGroup>
  </Target>
  <Target Name="NanaZipCoreLzmaDecHardwareAccelerationBuildAssemblySource" BeforeTargets="_MASM">
    <ItemGroup Condition="'$(Platform)'=='x64'">
      <MASM Include="SevenZip\ASM\x86\LzmaDecOpt.asm" />
    </ItemGroup>
  </Target>
  <Target Name="NanaZipCoreSha256HardwareAccelerationBuildAssemblySource" BeforeTargets="_MASM">
    <ItemGroup Condition="('$(Platform)'=='Win32') Or ('$(Platform)'=='x64')">
      <MASM Include="SevenZip\ASM\x86\Sha256Opt.asm" />
    </ItemGroup>
  </Target>
  <Target Name="NanaZipCoreSha256HardwareAccelerationBuildCSource" BeforeTargets="BeforeClCompile">
    <ItemGroup Condition="('$(Platform)'!='Win32') And ('$(Platform)'!='x64')">
      <ClCompile Include="SevenZip\C\Sha256Opt.c">
        <Optimization Condition="'$(Configuration)'=='Release'">MaxSpeed</Optimization>
      </ClCompile>
    </ItemGroup>
  </Target>
  <Import Project="..\Mile.Project.Windows\Mile.Project.Cpp.targets" />
  <Import Condition="('$(Platform)'=='Win32') Or ('$(Platform)'=='x64')" Project="$(VCTargetsPath)\BuildCustomizations\masm.targets" />
</Project>